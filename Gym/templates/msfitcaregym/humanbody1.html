{% extends 'msfitcaregym/base.html' %}
{%load static%}


{% block title %}
  <meta charset="UTF-8">
  <title>CodePen - SVG use selecting a region in human body</title>
  <link rel="stylesheet" href="{%static 'css/bodycard.css' %}">
{%endblock%}

{% block bg %}
    style="background:linear-gradient(rgba(0, 0, 0, 1), rgba(0, 0, 0, 1));"
{% endblock %}

{% block body_block %}
<main>
    <br>
<div class="page-section muscle-groups">
    <h1>MS Fit Care Gym</h1>
    <svg version="1.1" id="humanAnatomy" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 176 207" enable-background="new 0 0 420 780" xml:space="preserve" >
    <g id="humanInner">
        <path fill="#FFDEC7" d="M44.055,118.158c-0.3,3.531 3.185,22.306 4.422,29.636c0.589,3.472 2.204,9.13 1.623,12.134c-0.83,4.187 -1.07,9.604 -0.613,12.759c0.288,1.916 1.195,10.752 -0.103,13.984c-0.678,1.695 -1.922,10.38 -1.922,10.38c-3.241,8.182 -1.412,7.779 -1.412,7.779c1.003,1.231 2.722,0.097 2.722,0.097c1.309,0.834 2.215,-0.198 2.215,-0.198c1.124,0.93 2.434,-0.115 2.434,-0.115c1.412,0.733 2.721,-0.618 2.721,-0.618c0.811,0.408 1.009,-0.108 1.009,-0.108c2.433,-0.156 -1.357,-7.941 -1.357,-7.941c-0.908,-6.993 0.9,-10.884 0.9,-10.884c5.923,-17.565 6.224,-22.226 3.856,-28.845c-0.666,-1.911 -0.835,-2.668 -0.528,-3.497c0.709,-1.915 0.192,-9.617 1.057,-12.675c1.669,-5.898 3.316,-20.856 4.174,-27.836c1.153,-9.401 -4.085,-22.007 -4.085,-22.007c-1.147,-5.129 0.535,-23.406 0.535,-23.406c2.349,3.655 2.259,10.107 2.259,10.107c-0.373,6.766 5.466,17.107 5.466,17.107c2.806,4.274 3.868,8.328 3.868,8.629c0,1.231 -0.269,4.212 -0.269,4.212l0.107,2.595c0.049,0.661 0.42,2.937 0.36,4.037c-0.438,6.769 0.638,5.495 0.638,5.495c0.907,0 1.904,-5.447 1.904,-5.447c0,1.405 -0.343,5.61 0.415,7.197c0.906,1.892 1.573,-0.325 1.585,-0.77c0.24,-8.619 0.758,-6.361 0.758,-6.361c0.504,6.992 1.123,8.572 2.234,8.025c0.842,-0.401 0.072,-8.391 0.072,-8.391c1.441,4.746 2.534,5.502 2.534,5.502c2.379,1.67 0.908,-2.943 0.578,-3.856c-1.76,-4.854 -1.815,-6.536 -1.815,-6.536c2.199,4.361 3.857,4.2 3.857,4.2c2.144,-0.685 -1.875,-6.86 -4.23,-9.819c-1.201,-1.507 -2.751,-3.526 -3.201,-4.724c-0.733,-2.03 -1.286,-8.557 -1.286,-8.557c-0.222,-7.702 -2.126,-11.047 -2.126,-11.047c-3.255,-5.211 -3.868,-14.93 -3.868,-14.93l-0.144,-16.411c-1.141,-11.194 -9.389,-11.274 -9.389,-11.274c-8.337,-1.241 -9.497,-3.935 -9.497,-3.935c-1.766,-2.541 -0.757,-7.412 -0.757,-7.412c1.465,-1.192 2.03,-4.355 2.03,-4.355c2.433,-1.866 2.313,-4.596 1.19,-4.566c-0.902,0.024 -0.698,-0.723 -0.698,-0.723c1.522,-12.288 -9.387,-12.915 -9.387,-12.915l-1.665,0c0,0 -10.914,0.627 -9.395,12.912c0,0 0.204,0.748 -0.705,0.723c-1.121,-0.03 -1.225,2.7 1.199,4.566c0,0 0.564,3.162 2.03,4.355c0,0 1.009,4.871 -0.757,7.412c0,0 -1.156,2.694 -9.497,3.935c0,0 -8.262,0.08 -9.385,11.274l-0.156,16.411c0,0 -0.601,9.719 -3.869,14.93c0,0 -1.895,3.346 -2.114,11.047c0,0 -0.556,6.527 -1.286,8.557c-0.445,1.192 -1.993,3.211 -3.205,4.724c-2.375,2.953 -6.368,9.115 -4.232,9.819c0,0 1.666,0.161 3.856,-4.2c0,0 -0.045,1.67 -1.802,6.536c-0.345,0.901 -1.814,5.514 0.565,3.856c0,0 1.102,-0.757 2.535,-5.502c0,0 -0.769,7.99 0.086,8.391c1.118,0.548 1.728,-1.033 2.232,-8.025c0,0 0.517,-2.258 0.756,6.361c0.012,0.445 0.664,2.662 1.575,0.77c0.768,-1.587 0.423,-5.785 0.423,-7.197c0,0 0.986,5.448 1.907,5.448c0,0 1.084,1.273 0.639,-5.496c-0.072,-1.106 0.316,-3.376 0.364,-4.037l0.105,-2.595c0,0 -0.271,-2.974 -0.271,-4.212c0,-0.307 1.064,-4.355 3.869,-8.629c0,0 5.833,-10.346 5.457,-17.107c0,0 -0.081,-6.452 2.268,-10.107c0,0 1.667,18.276 0.537,23.406c0,0 -5.247,12.606 -4.09,22.007c0.853,6.998 2.496,21.937 4.169,27.836c0.874,3.052 0.357,10.752 1.058,12.675c0.316,0.835 0.15,1.605 -0.529,3.497c-2.355,6.619 -2.055,11.281 3.868,28.845c0,0 1.823,3.892 0.902,10.884c0,0 -3.784,7.785 -1.361,7.941c0,0 0.19,0.516 1.01,0.108c0,0 1.309,1.351 2.723,0.618c0,0 1.31,1.046 2.43,0.115c0,0 0.898,1.032 2.207,0.198c0,0 1.718,1.159 2.739,-0.097c0,0 1.814,0.403 -1.415,-7.779c0,0 -1.237,-8.675 -1.919,-10.38c-1.3,-3.231 -0.382,-12.086 -0.105,-13.984c0.447,-3.172 0.208,-8.577 -0.609,-12.759c-0.598,-2.997 1.021,-8.656 1.619,-12.134c1.228,-7.323 4.403,-29.633 4.403,-29.633Z" style="stroke:#000;stroke-width:1px;" />
        <path fill="#FFDEC7" d="M130.969,118.158c-0.3,3.531 3.184,22.306 4.422,29.636c0.588,3.472 2.203,9.13 1.622,12.134c-0.829,4.187 -1.069,9.604 -0.612,12.759c0.288,1.916 1.194,10.752 -0.103,13.984c-0.679,1.695 -1.923,10.38 -1.923,10.38c-3.24,8.182 -1.411,7.779 -1.411,7.779c1.003,1.231 2.721,0.097 2.721,0.097c1.31,0.834 2.216,-0.198 2.216,-0.198c1.124,0.93 2.434,-0.115 2.434,-0.115c1.411,0.733 2.721,-0.618 2.721,-0.618c0.81,0.408 1.009,-0.108 1.009,-0.108c2.432,-0.156 -1.358,-7.941 -1.358,-7.941c-0.907,-6.993 0.901,-10.884 0.901,-10.884c5.923,-17.565 6.224,-22.226 3.856,-28.845c-0.667,-1.911 -0.835,-2.668 -0.529,-3.497c0.71,-1.915 0.193,-9.617 1.058,-12.675c1.669,-5.898 3.316,-20.856 4.174,-27.836c1.153,-9.401 -4.085,-22.007 -4.085,-22.007c-1.148,-5.129 0.534,-23.406 0.534,-23.406c2.349,3.655 2.26,10.107 2.26,10.107c-0.373,6.766 5.466,17.107 5.466,17.107c2.805,4.274 3.868,8.328 3.868,8.629c0,1.231 -0.27,4.212 -0.27,4.212l0.108,2.595c0.048,0.661 0.42,2.937 0.36,4.037c-0.438,6.769 0.637,5.495 0.637,5.495c0.908,0 1.905,-5.447 1.905,-5.447c0,1.405 -0.343,5.61 0.415,7.197c0.906,1.892 1.573,-0.325 1.585,-0.77c0.24,-8.619 0.757,-6.361 0.757,-6.361c0.505,6.992 1.124,8.572 2.235,8.025c0.841,-0.401 0.072,-8.391 0.072,-8.391c1.441,4.746 2.534,5.502 2.534,5.502c2.379,1.67 0.908,-2.943 0.577,-3.856c-1.76,-4.854 -1.814,-6.536 -1.814,-6.536c2.199,4.361 3.856,4.2 3.856,4.2c2.145,-0.685 -1.874,-6.86 -4.229,-9.819c-1.201,-1.507 -2.751,-3.526 -3.201,-4.724c-0.733,-2.03 -1.286,-8.557 -1.286,-8.557c-0.222,-7.702 -2.126,-11.047 -2.126,-11.047c-3.256,-5.211 -3.868,-14.93 -3.868,-14.93l-0.144,-16.411c-1.142,-11.194 -9.39,-11.274 -9.39,-11.274c-8.337,-1.241 -9.497,-3.935 -9.497,-3.935c-1.766,-2.541 -0.756,-7.412 -0.756,-7.412c1.465,-1.192 2.03,-4.355 2.03,-4.355c2.433,-1.866 2.313,-4.596 1.19,-4.566c-0.902,0.024 -0.698,-0.723 -0.698,-0.723c1.521,-12.288 -9.387,-12.915 -9.387,-12.915l-1.666,0c0,0 -10.913,0.627 -9.394,12.912c0,0 0.204,0.748 -0.705,0.723c-1.121,-0.03 -1.226,2.7 1.198,4.566c0,0 0.565,3.162 2.03,4.355c0,0 1.01,4.871 -0.756,7.412c0,0 -1.156,2.694 -9.497,3.935c0,0 -8.262,0.08 -9.386,11.274l-0.156,16.411c0,0 -0.6,9.719 -3.869,14.93c0,0 -1.895,3.346 -2.114,11.047c0,0 -0.555,6.527 -1.285,8.557c-0.445,1.192 -1.994,3.211 -3.205,4.724c-2.376,2.953 -6.368,9.115 -4.232,9.819c0,0 1.666,0.161 3.856,-4.2c0,0 -0.045,1.67 -1.802,6.536c-0.346,0.901 -1.814,5.514 0.565,3.856c0,0 1.102,-0.757 2.534,-5.502c0,0 -0.768,7.99 0.087,8.391c1.118,0.548 1.727,-1.033 2.232,-8.025c0,0 0.516,-2.258 0.756,6.361c0.012,0.445 0.664,2.662 1.575,0.77c0.768,-1.587 0.423,-5.785 0.423,-7.197c0,0 0.985,5.448 1.907,5.448c0,0 1.084,1.273 0.639,-5.496c-0.072,-1.106 0.316,-3.376 0.364,-4.037l0.105,-2.595c0,0 -0.271,-2.974 -0.271,-4.212c0,-0.307 1.064,-4.355 3.868,-8.629c0,0 5.833,-10.346 5.458,-17.107c0,0 -0.081,-6.452 2.268,-10.107c0,0 1.667,18.276 0.537,23.406c0,0 -5.247,12.606 -4.09,22.007c0.852,6.998 2.496,21.937 4.169,27.836c0.874,3.052 0.357,10.752 1.058,12.675c0.315,0.835 0.15,1.605 -0.529,3.497c-2.355,6.619 -2.055,11.281 3.868,28.845c0,0 1.823,3.892 0.902,10.884c0,0 -3.785,7.785 -1.361,7.941c0,0 0.19,0.516 1.009,0.108c0,0 1.309,1.351 2.724,0.618c0,0 1.31,1.046 2.43,0.115c0,0 0.898,1.032 2.207,0.198c0,0 1.718,1.159 2.739,-0.097c0,0 1.814,0.403 -1.416,-7.779c0,0 -1.237,-8.675 -1.918,-10.38c-1.3,-3.231 -0.382,-12.086 -0.105,-13.984c0.447,-3.172 0.207,-8.577 -0.609,-12.759c-0.598,-2.997 1.021,-8.656 1.618,-12.134c1.229,-7.323 4.404,-29.633 4.404,-29.633Z" style="stroke:#000;stroke-width:1px;"  />
    </g>
    </svg>
    <div style="display: flex; justify-content: flex-end">
    <p style="font-size: 20px" id="cardComments"></p>
  </div>
    <div>
       <button data-toggle="modal" data-target="#exampleModal" class="btn btn-success">Προσθήκη Σχολίων</button>
    </div>
</div>

</main>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Προσθήκη Σχολίων</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
              <div class="modal-body" id="modalbody">
                <label>Σχόλια</label>
                <textarea cols="40" type="text" name="comments" id="comments"></textarea>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Κλείσιμο</button>
                <button type="button" class="btn btn-primary" style="background-color: #e6a756!important;" onclick="addComments('{{card_id}}')">Αποθήκευση</button>
              </div>
        </div>
      </div>
</div>


</div>
    <div id="cmodal" class="modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Καταχώρηση</h4>
          </div>
            <div class="modal-content">
              <form id = 'physio'>
                <input type="hidden" id="card" name="card" value='{{card_id}}'>
                <input type="hidden" id="circle_id" name="circle_id">
                  <input type="hidden" id="x" name="x">
                <input type="hidden" id="y" name="y">
                <label>Σχόλια</label>
                <textarea cols="40" name="details" id="details"></textarea>
                  <label>Χρώμα Κύκλου</label>
                  <input type="color" id="ccolor" name="ccolor">
              </form>
            </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" id="cclose">Κλείσιμο</button>
            <button id="savenew" type="button" class="btn btn-primary" onclick="savemodal()">Αποθήκευση</button>
          </div>
        </div>
      </div>
</div>

<div id="dmodal" class="modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Καταχώρηση</h4>
          </div>
            <div class="modal-content">
              <form id = 'dphysio'>
                <input type="hidden" id="dcard" name="dcard" value='{{card_id}}'>
                <input type="hidden" id="dcircle_id" name="dcircle_id">
                  <input type="hidden" id="dx" name="dx">
                <input type="hidden" id="dy" name="dy">
                <label>Σχόλια</label>
                <textarea cols="45" name="ddetails" id="ddetails"></textarea><br>
                  <label>Χρώμα Κύκλου</label>
                  <input type="color" id="dcolor" name="dcolor">
              </form>
            </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal" id="ddelete" onclick="removeEl()">Διαγραφή</button>
            <button type="button" class="btn btn-default" data-dismiss="modal" id="dclose">Κλείσιμο</button>
            <button id="saveold" type="button" class="btn btn-primary" onclick="savemodal1()">Αποθήκευση</button>
          </div>
        </div>
      </div>
</div>

<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js'></script>

<script>
    $( document ).ready(function() {
        var NS = $('svg').attr('xmlns')
        var target = document.getElementById("humanInner")
        circle = document.createElementNS(NS, 'circle');
        circle.setAttributeNS(null, 'cx', 40);
        circle.setAttributeNS(null, 'cy', 15);
        circle.setAttributeNS(null, 'r', 1);
        circle.setAttributeNS(null, 'id', 'eye1');
        circle.setAttributeNS(null, 'data-x', 0);
        circle.setAttributeNS(null, 'data-y', 0);
        circle.style.fill = "black"
        target.after(circle);
        circle1 = document.createElementNS(NS, 'circle');
        circle1.setAttributeNS(null, 'cx', 48);
        circle1.setAttributeNS(null, 'cy', 15);
        circle1.setAttributeNS(null, 'r', 1);
        circle1.setAttributeNS(null, 'id', 'eye1');
        circle1.setAttributeNS(null, 'data-x', 0);
        circle1.setAttributeNS(null, 'data-y', 0);
        circle1.style.fill = "black"
        target.after(circle1);
    });
    var
        svg = document.getElementById('humanAnatomy'),
        NS = $('svg').attr('xmlns');
$(document).on('click', '#humanInner', function(e) {
    var
        t = e.target,
        x = e.clientX,
        y = e.clientY,
        target = (t == svg ? svg : t.parentNode),
        pin = pinCenter(target, x, y),
        newCircIdParam = "newcircle" + Math.round(pin.x) + '-' + Math.round(pin.y),
        circle = document.createElementNS(NS, 'circle');
    circle.setAttributeNS(null, 'cx', Math.round(pin.x));
    circle.setAttributeNS(null, 'cy', Math.round(pin.y));
    circle.setAttributeNS(null, 'r', 5);
    circle.setAttributeNS(null, 'class', "newcircle");
    circle.setAttributeNS(null, 'id', newCircIdParam);
    circle.setAttributeNS(null, 'data-x', Math.round(pin.x));
    circle.setAttributeNS(null, 'data-y', Math.round(pin.y));
    target.after(circle);

    var m = document.getElementById("cmodal")
      m.style.display = "block";
      document.getElementById('circle_id').value = circle.id;
      document.getElementById('x').value = Math.round(pin.x);
      document.getElementById('y').value = Math.round(pin.y);
});

function pinCenter(element, x, y) {
    var pt = svg.createSVGPoint();
    pt.x = x;
    pt.y = y;
    return pt.matrixTransform(element.getScreenCTM().inverse());
}

$(document).on('click', '.newcircle', function() {
    // alert("x: " + $(this).data('x') + " y: " + $(this).data("y"));
     var m = document.getElementById("dmodal")
      m.style.display = "block";
    document.getElementById('dcircle_id').value = $(this)[0].getAttribute("id");
    document.getElementById('dx').value = $(this)[0].getAttribute("cx");
    document.getElementById('dy').value = $(this)[0].getAttribute("cy");
    document.getElementById('ddetails').value = $(this)[0].getAttribute("details");
    document.getElementById('dcolor').value = $(this)[0].style.fill;
    var co = $(this)[0].style.fill;
    co = co.replace(/[^\d,]/g, '').split(',');
    var rgb = rgb_to_hex(co[0], co[1], co[2])
    document.getElementById('dcolor').value = rgb;
});

function rgb_to_hex(red, green, blue) {
  const rgb = (red << 16) | (green << 8) | (blue << 0);
  return '#' + (0x1000000 + rgb).toString(16).slice(1);
}

var modal1 = document.getElementById("dmodal");
    // Get the <span> element that closes the modal
    var close1 = document.getElementById('dclose');
    // When the user clicks close, close the modal
    close1.onclick = function() {
      modal1.style.display = "none";

      var c = document.getElementById('dcircle_id').value ;
      c.value ="";
      document.getElementById('dx').value = "";
      document.getElementById('dy').value ="";
      document.getElementById('ddetails').value ="";
    }


var modal = document.getElementById("cmodal");
    // Get the <span> element that closes the modal
    var close = document.getElementsByClassName("btn btn-default")[0];
    // When the user clicks close, close the modal
    close.onclick = function() {
      modal.style.display = "none";

      var c = document.getElementById('circle_id').value ;
      $("#" + c).remove();
      c.value ="";
      document.getElementById('x').value = "";
      document.getElementById('y').value ="";
      document.getElementById('details').value ="";

    }
    function savemodal() {
        $.ajax({
            type: 'POST',
            url: "{%url 'msfitcaregym:savemodaltest' %}",
            data: {
                csrfmiddlewaretoken: '{{ csrf_token }}',
                comments: document.getElementById('details').value,
                card: document.getElementById('card').value,
                circle_id: document.getElementById('circle_id').value,
                x: document.getElementById('x').value,
                y: document.getElementById('y').value,
                color: document.getElementById('ccolor').value,
            },
            dataType: "json",
            success: function (data) {
                console.log(data.color)
              var modal = document.getElementById("cmodal");
              modal.style.display = "none";
              var circle = document.getElementById(data.id)
              circle.setAttributeNS(null, 'details', data.details);
              circle.style.fill = data.color.toString()
              var c = document.getElementById('circle_id').value = "" ;
              document.getElementById('x').value = "";
              document.getElementById('y').value ="";
              document.getElementById('details').value ="";
                if(data.x >= 90){
                    var txt = document.createElementNS(NS, 'text');
                    txt.setAttributeNS(null, 'x', 165 );
                    txt.setAttributeNS(null, 'y', data.y);
                    txt.setAttributeNS(null, 'id', 'txt' + data.id);
                    txt.setAttributeNS(null,'font-size','10');
                    txt.innerHTML = data.details
                    txt.setAttributeNS(null,'fill',data.color);
                    svg.appendChild(txt);
                }
                else{
                    var txt = document.createElementNS(NS, 'text');
                    txt.setAttributeNS(null, 'x', -225);
                    txt.setAttributeNS(null, 'y', data.y);
                    txt.setAttributeNS(null, 'id', 'txt' + data.id);
                    txt.setAttributeNS(null,'font-size','10');
                    txt.setAttributeNS(null,'fill',data.color);
                    txt.innerHTML = data.details
                    svg.appendChild(txt);
                }
            }
        });
    }

    function savemodal1() {
        $.ajax({
            type: 'POST',
            url: "{%url 'msfitcaregym:savemodaltest' %}",
            data: {
                csrfmiddlewaretoken: '{{ csrf_token }}',
                comments: document.getElementById('ddetails').value,
                card: document.getElementById('dcard').value,
                circle_id: document.getElementById('dcircle_id').value,
                x: document.getElementById('dx').value,
                y: document.getElementById('dy').value,
                color: document.getElementById('dcolor').value,
            },
            dataType: "json",
            success: function (data) {
                console.log(data.color)
              var modal = document.getElementById("dmodal");
              modal.style.display = "none";
              var circle = document.getElementById(data.id)
              circle.setAttributeNS(null, 'details', data.details);
              circle.style.fill = data.color.toString()
              var c = document.getElementById('dcircle_id').value = "" ;
              document.getElementById('dx').value = "";
              document.getElementById('dy').value ="";
              document.getElementById('ddetails').value ="";
                if(data.x >= 90){
                    var t = document.getElementById('txt'+ data.id).remove()
                    var txt = document.createElementNS(NS, 'text');
                    txt.setAttributeNS(null, 'x', 165 );
                    txt.setAttributeNS(null, 'y', data.y);
                    txt.setAttributeNS(null, 'id', 'txt' + data.id);
                    txt.setAttributeNS(null,'font-size','10');
                    txt.innerHTML = data.details
                    txt.setAttributeNS(null,'fill',data.color);
                    svg.appendChild(txt);
                }
                else{
                    var t = document.getElementById('txt'+ data.id).remove()
                    var txt = document.createElementNS(NS, 'text');
                    txt.setAttributeNS(null, 'x', -225);
                    txt.setAttributeNS(null, 'y', data.y);
                    txt.setAttributeNS(null, 'id', 'txt' + data.id);
                    txt.setAttributeNS(null,'font-size','10');
                    txt.setAttributeNS(null,'fill',data.color);
                    txt.innerHTML = data.details
                    svg.appendChild(txt);
                }
            }
        });
    }

    function removeEl() {
        $.ajax({
            type: 'POST',
            url: "{%url 'msfitcaregym:removebodypart' %}",
            data: {
                csrfmiddlewaretoken: '{{ csrf_token }}',
                comments: document.getElementById('ddetails').value,
                card: document.getElementById('dcard').value,
                circle_id: document.getElementById('dcircle_id').value,
                x: document.getElementById('dx').value,
                y: document.getElementById('dy').value,
                color: document.getElementById('dcolor').value,
            },
            dataType: "json",
            success: function (data) {
                var c = document.getElementById('dcircle_id').value;
                $("#" + c).remove();
                var id = "txt"+c.toString()
                console.log(id)
                var t = document.getElementById(id).remove()
                document.getElementById("dmodal").style.display = "none"
            }
        });
    }
    function addComments(card_id) {
      console.log(card_id)
      $.ajax({
        type: 'POST',
        url: "{%url 'msfitcaregym:addcommentscard' %}",
        data: {
          csrfmiddlewaretoken: '{{ csrf_token }}',
          card_id: card_id,
          comments: document.getElementById("comments").value
        },
        success:function(data){
          document.getElementById("cardComments").innerText = data.comments
        }
      });
    };
</script>

{% endblock %}
